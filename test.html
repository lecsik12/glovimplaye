<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Glovim</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

  <!-- Фавикон -->
  <link rel="icon" type="image/png" href="images/looooooogoooo.jpg" sizes="16x16">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

  <style>
    /* Полный набор ваших стилей */
    :root { /* ... ваши переменные ... */ }
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Montserrat',sans-serif; }
    body { background:var(--bg-light); color:var(--text-light); line-height:1.6; transition:background var(--transition-speed),color var(--transition-speed); }
    a { text-decoration:none; color:inherit; }
    /* ... вставьте остальные стили из вашего оригинального <style> ... */
  </style>
</head>
<body>
  <!-- Сайдбар (ПК) -->
  <div class="sidebar">
    <div class="logo">
      <img src="images/logo (2).png" alt="Logo">
      <h1>Glovim</h1>
    </div>
    <nav>
      <a href="/index" class="spa-link">
        <span class="nav-icon"><i class="fas fa-home"></i></span>
        <span class="nav-text">Главная</span>
      </a>
      <a href="/catalog" class="spa-link">
        <span class="nav-icon"><i class="fas fa-th-list"></i></span>
        <span class="nav-text">Каталог</span>
      </a>
      <a href="/add" class="spa-link">
        <span class="nav-icon"><i class="fas fa-plus"></i></span>
        <span class="nav-text">Продать</span>
      </a>
      <a href="/chat" class="spa-link">
        <span class="nav-icon"><i class="fas fa-comment-dots"></i></span>
        <span class="nav-text">Чат</span>
      </a>
      <a href="/profile" class="spa-link profile-btn">
        <span class="nav-icon"><img src="images/avatar.jpg" alt="Avatar" class="avatar"></span>
        <span class="nav-text">Профиль</span>
      </a>
    </nav>
  </div>

  <!-- Основной контент (SPA) -->
  <div class="main-content">

    <!-- Раздел: Главная -->
    <section data-view="index">
      <!-- Весь ваш оригинальный контент Главная -->
      <header class="desktop-header">
        <div class="search-box">
          <input type="text" class="search-input" placeholder="Поиск игр, приложений и прочего">
          <button class="search-btn"><i class="fas fa-search"></i></button>
          <div class="search-results" id="search-results"></div>
        </div>
        <button id="themeToggle" style="background:none;border:none;cursor:pointer;font-size:22px;"><i id="themeIcon" class="fas fa-sun"></i></button>
      </header>
      <header class="mobile-header">
        <!-- мобильный хедер -->
        <div class="header-top">
          <div class="logo">
            <img src="images/logo (2).png" alt="Logo">
            <h1>Glovim</h1>
          </div>
          <button id="themeToggleMobile" style="background:none;border:none;cursor:pointer;font-size:22px;"><i id="themeIconMobile" class="fas fa-sun"></i></button>
        </div>
        <div class="header-search">
          <div class="search-box">
            <input type="text" class="search-input" placeholder="Поиск игр, приложений и прочего">
            <button class="search-btn"><i class="fas fa-search"></i></button>
            <div class="search-results" id="search-results-mobile"></div>
          </div>
        </div>
      </header>
      <div class="main-banner">
        <!-- слайдер баннер -->
        <div class="banner-track" id="banner-track">
          <div class="banner-slide" style="background-image:url('images/avatar-removebg-preview.png');"></div>
          <div class="banner-slide" style="background-image:url('images/ChatGPT Image 9 апр. 2025 г., 19_52_14.png');"></div>
          <div class="banner-slide" style="background-image:url('images/logo.png');"></div>
        </div>
      </div>
      <div class="categories">
        <!-- категории -->
        <a href="/electronics">Донат</a><a href="/clothes">Скины</a><a href="/shoes">Подписки</a><a href="/tools">Аккаунт</a><a href="/auto">Предметы</a><a href="/accessories">Аренда</a><a href="/accessories">Игры</a><a href="/accessories">Прочее</a>
      </div>
      <div class="promo-grid">
        <!-- промо-блоки -->
        <div class="promo-item" style="background-image:url('images/baner4.jpg');"></div>
        <div class="promo-item" style="background-image:url('images/baner5.jpg');"></div>
      </div>
      <h2 style="text-align:center;margin:20px 0;">Пользователи сайта</h2>
      <div class="users-row" id="usersRow"></div>
      <h2 style="text-align:center;margin:20px 0;color:#fff;">Топ товары</h2>
      <div id="productContainer" class="product-container"></div>
      <div><p style="text-align:center;color:#fff;">GlovimPlaye</p></div>
      <footer>
        <!-- футер -->
        <div class="footer-content">
          <div class="footer-section about"><h3>О компании</h3><p>GlovimPlaye — это инновационный сервис...</p><p>© 2025 GlovimPlaye. Все права защищены.</p></div>
          <div class="footer-section links"><h3>Правила</h3><ul><li><a href="/rules">Пользовательское соглашение</a></li>...</ul></div>
          <div class="footer-section social"><h3>Мы в сети</h3><ul><li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>...</ul></div>
        </div>
      </footer>
      <div class="mobile-nav">
        <!-- мобильная навигация -->
        <a href="/index" class="spa-link"><i class="fas fa-home"></i><span>Главная</span></a>
        <a href="/chat" class="spa-link"><i class="fas fa-comment-dots"></i><span>Чат</span></a>
        <a href="/add" class="spa-link"><i class="fas fa-plus"></i><span>Продать</span></a>
        <a href="/profile" class="spa-link profile-nav"><img src="images/avatar.jpg" alt="Avatar" class="avatar-mobile"><span>Профиль</span></a>
      </div>
    </section>

    <!-- Разделы-контейнеры для SPA -->
    <section data-view="catalog" style="display:none"><h1>Каталог</h1><!-- здесь реализуйте каталог --></section>
    <section data-view="add"     style="display:none"><h1>Продать товар</h1><!-- тут форма --></section>
    <section data-view="chat"    style="display:none"><h1>Чат</h1><!-- тут чат --></section>
    <section data-view="profile" style="display:none"><h1>Профиль</h1><!-- профиль --></section>

  </div>

  <script>
    // Ваши существующие скрипты (Firebase, слайдер, поиск, загрузка пользователей и товаров)
    // ...

    // SPA Router
    document.body.addEventListener('click', e => {
      const a = e.target.closest('a.spa-link');
      if (!a) return;
      e.preventDefault();
      history.pushState(null, '', a.href);
      renderRoute(location.pathname);
    });
    window.addEventListener('popstate', () => renderRoute(location.pathname));
    function renderRoute(path) {
      const name = path.replace(/^\//, '') || 'index';
      document.querySelectorAll('[data-view]').forEach(el => {
        el.style.display = el.dataset.view === name ? '' : 'none';
      });
    }
    document.addEventListener('DOMContentLoaded', () => renderRoute(location.pathname));
  </script>
</body>
</html>
